---
title: Gender differences in collaboration patterns in computer science
bibliography: ../sysconf.bib
simplesummary: |
  A Simple summary goes here.
abstract: |
  A single paragraph of about 200 words maximum. For research articles, 
  abstracts should give a pertinent overview of the work. We strongly encourage
  authors to use the following style of structured abstracts, but without 
  headings: 1) Background: Place the question addressed in a broad context and
  highlight the purpose of the study; 2) Methods: Describe briefly the main
  methods or treatments applied; 3) Results: Summarize the article's main 
  findings; and 4) Conclusion: Indicate the main conclusions or interpretations. 
  The abstract should be an objective representation of the article, it must not 
  contain results which are not presented and substantiated in the main text and 
  should not exaggerate the main conclusions.
keywords: |
  keyword 1; keyword 2; keyword 3 (list three to ten pertinent keywords specific 
  to the article, yet reasonably common within the subject discipline.).
acknowledgement: |
  All sources of funding of the study should be disclosed. Please clearly 
  indicate grants that you have received in support of your research work. 
  Clearly state if you received funds for covering the costs to publish in open 
  access.
authorcontributions: |
  For research articles with several authors, a short paragraph specifying their 
  individual contributions must be provided. The following statements should be 
  used ``X.X. and Y.Y. conceive and designed the experiments; X.X. performed the 
  experiments; X.X. and Y.Y. analyzed the data; W.W. contributed 
  reagents/materials/analysis tools; Y.Y. wrote the paper.'' Authorship must be
  limited to those who have contributed substantially to the work reported.
conflictsofinterest: |
  The authors declare no conflict of interest.
funding: |
  SJREF
institutionalreview: |
  IRB number
informedconsent: |
  Any research article describing a study involving humans should contain this statement. Please add ``Informed consent was obtained from all subjects involved in the study.'' OR ``Patient consent was waived due to REASON (please provide a detailed justification).'' OR ``Not applicable'' for studies not involving humans. You might also choose to exclude this statement if the study did not involve humans.
dataavailability: | 
  github, doi, supplemental
output:
  bookdown::pdf_book:
    keep_tex: true
    template: main.tex
    citation_package: natbib
    fig_caption: true
---

```{r code = readLines("../load_data.R"), echo = F, message = F}
```

```{r setup, echo=F, message=F, warning=F, cache=F}
library('rjson')

# This function reads in a .json conference file and for each paper in the conference it extracts the author names, paper id,
# field, and conference id into a data frame. It then normalizes the names using 'normalized_author_name' and moves
# on to the next paper, stacking the new data frame with those that have already been created each time.
# Finally it normalizes the author names and joins with a gender mapping df to get the corresponding genders.

json_to_df <- function(conf_name, gender_mapping) {
  json_fpath <- paste0(toplevel, "data/conf/", conf_name, ".json")
  conf <- rjson::fromJSON(file = json_fpath)
  confname <- conf[[1]]
  field <- conf[['field']]
  subfield <- conf[['subfield']]
  papers <- conf[['papers']]
  submissions <- conf[['submissions']]

  conf_info_df <- data.frame()

  for (i in seq_along(papers)) {
    paper_id <- unlist(papers[[i]][1])
    authors <- as.data.frame(papers[[i]][3]) %>%
      mutate(conf = confname,
             field = field,
             subfield = subfield,
             paper_id = paper_id,
             n_submissions = submissions)

    conf_info_df <- rbind(conf_info_df, authors)
  }

  conf_info_df <- conf_info_df %>%
    mutate(authors = map_chr(authors, normalized_author_name)) %>%
    mutate(authors = str_replace(authors, "\\s+", " ")) %>%
    mutate(paper_id = as.factor(paper_id)) %>%
    rename(name = authors)

  conf_info_df %>%
    left_join(gender_mapping, by = "name")
}

# Here we create a vector of the conference names and use the 'map_dfr' function to apply 'json_to_df' to each conference.
nonsys_confs <-
  c("AAAI", "ACL", "CHI", "CVPR", "FSE", "ICML", "ICSE", "MM", "NIPS", "POPL", "SIGCSE", "SIGGRAPH", "SODA", "STOC", "WSDM", "WWW", "SIGIR", "KDD", "ICDM", "ITICSE", "FOCS", "TACAS")

nonsys_authors <- nonsys_confs %>%
  map_dfr(~json_to_df(.x, all_genders))

name_combination_creator <- function(df) {
  
  authors <- df$name
  
  if (length(authors) > 1) {
  
    name_combinations <- as.data.frame(t(combn(authors, 2)))
    name_combinations_stacked <- rbind(name_combinations, name_combinations[ ,c(2,1)])
    
    names(name_combinations_stacked) <- c("name1", "name2")
    name_combinations_stacked
    
  } else {
    
    name_combinations <- data.frame()
    name_combinations
    
  }
}


collaboration_pairs <- nonsys_authors %>% 
  group_by(paper_id) %>% 
  group_modify(~name_combination_creator(.x)) %>% 
  ungroup() %>% 
  distinct(name1, name2, .keep_all = T)


gender_summary_table <- function(data) {
  data %>%
    summarise(.groups = "keep",
      n_papers = n_distinct(paper_id, conf),
      n_na = sum(is.na(gender)),
      n_male = sum(gender == "M", na.rm = T),
      n_female = sum(gender == "F", na.rm = T),
      prop_female = n_female / (n_female + n_male)
      ) %>%
    arrange(desc(prop_female)) %>%
    knitr::kable()
}
```

# Introduction

The gender gap in science, technology, engineering and mathematics (STEM), and in particular in computer science (CS), is a well-known and well-studied problem.
It carries significant societal effects, such as inequality in economic opportunities for women and an undersupply of researchers and engineers in the rapidly growing discipline [@nielsen17:opinion; @mattis07:upstream].
The gender gap among researchers is particularly severe: the people who participate in research, publish about it, and have their research acknowledged for its value are predominantly men [@charman17:championing].
Numerous studies estimate that only about 15%--30% of the CS research community are women [@cohoon11:cspapers; @holman18:gender; @national20:science; @way16:gender; @zweben18:taulbee].
Although some recent indications show these numbers could be growing, they remain low, and the rate of growth remains slow [@wang21:trends].

The gender gap is a complex, multifaceted challenge [@avolio20:factors].
Numerous approaches to understand and perhaps address the gender gap have focused on facets such as resource availability, gender stereotypes, child care, structural barriers, gender differences, discrimination, and other factors.
This article focuses on one of these factors: the collaboration patterns of paper coathors across genders and CS fields.

Scientific collaborations are the backbone of a successful career in science [@whittington18:tie].
For example, researchers with more collaborators have been found to publish more articles, in higher impact journals, and accrue more citations more quickly [@lee05:impact].
Consequentlly, many studies investigated whether women and men collaborate at different rates across discplines, and often found significant differences [@bozeman04:scientists; @hunter08:collaborative; @kyvik96:child; @scott90:disadvantage].

In CS, and in particular in its more experimental fields such as computer systems, graphics, and artificial intelligence (AI), collaboration is crucial because the large-scale implementation efforts involved often require teams of researchers with various experience levels.
In this article we focus on gender differences in collaboration patterns across the fields and subfields of CS.

Our study design is descriptive and observational in nature.
We did not start out with any preset hypotheses to validate.
Instead, our goal was to collect and analyze up-to-date, accurate and extensive data on CS authorship and collaboration patterns across genders.
This data and analysis provides baseline statistics for comparison across different time points and scientific disciplines.
But it also provides immediate answers and comparisons to other works that can provide new insights into the current state of collaboration differences across genders and CS fields.
Specifically, in this article we address the following research questions:

 *   **RQ1**: Do women publish less than men? By field

 *   **RQ2**: Do women collaborate with fewer people than men?

 *   **RQ3**: Does collaboration amount vary by the gender of the collaborators?

 *   **RQ4**: Are cross-gender collaborations in our dataset fewer than expected?

 *   **RQ5**: Do women publish fewer single-author papers?
  
 *  **RQ6**: What is the relationship between the cost of the system investigated and gender and collaboration patterns?
  
 *  **RQ7**: Are team sizes (co-author groups) larger in more experimental subfields?


To bring these questions into historical context, we briefly survey some of the previous work in the area next.

## Related work {-}

There exists a very rich literature on the gender gap in sciences in general, and in computer science research in particular.
For a recent review of this literature, refer to [@avolio20:factors].
Instead, we limit our focus to the relevant literature on collaboration patterns and differences.

For example, a recent study of differences in collaboration patterns across disciplines found that female scientists have a lower probability of repeating previous coauthors than males.
It also found that female faculty have significantly fewer distinct coauthors over their careers than males, but that this difference can be fully accounted for by femalesâ€™ lower publication rate and shorter career lengths [@zeng16:differences].

This productivity gap, which we observed in our dataset as well, has been thoroughly explored in a different study [@symonds06:gender].
In mathematics, women generally publish less than men, especially early in their careers, and leave academia at a higher rate then men [@mihaljevic16:effect].
Women are also underrepresented in the three top-ranked journals and publish fewer single-author papers. In terms of mean number of coauthors, women's statistics are similar to men's.
There is even a gap in recognition, as women are also less likely to receive tenure the more they coauthor [@sarsons17:recognition].




CS researchers in particular tend to collaborate more than researchers in other fields, regardless of gender, and there are no gender-specific differences in how collaborative behavior impacts scientific success [@jadidi18:gender].
This study also found that gender homophily in CS has been increasing over the past few years.

Related, another study of collaboration patterns across sciences found that CS papers average 2.84 coauthors, and electrical engineering papers average 3.04 [@ghiasi15:compliance], similar to what we have found in this study.
It also found that generally in engineering, female-female collaborations accounted for only 7% of all total pairs.
In CS, the percentage is even lower (5%).
Since 1990, there have been even more same-gender (gender homophily) coauthorships than expected [@wang21:trends].
But this property can vary across CS fields, necessitating more nuanced analysis.
For example, in the field of data visualization, women collaborated with subtantially more women than men [@tovanich21:gender].

Corroborating this result for biotech patent networks, women have been found more likely to collaborate with women, and benefit from it, but both genders collaborate with mostly men [@whittington18:tie].
There are also fewer women "stars", which we also found to hold for computer systems with h-index and npubs [@frachtenberg21:underrepresentation].

A surprising result came from a survey of 1,714 scientists in 2011, finding that when accounting for various confounding factors, women actually have more collaborators then men [@bozeman11:men].
The paper also reported that regression models that take into account different collaboration strategies are better at predicting a researcher's number of collaborators.

Several studies analyzed the gender gap by aggregating the coauthors of each paper into one "gender".
One study analyzed different aggregations based the proportion of female authors, gender of most senior authors, and single-author papers [@hengel17:publishing].
Looking at author position for aggregation, another study found that there are fewer women in first and last author positions in science overall, as well as in single-author papers [@west13:role].
Other ways to aggregate genders including counting all papers that have at least one female author, and those where at least half the authors are female.
 

## Organization {-}

The rest of this paper is organized as follows.
In the next section (Sec. \@ref(sec:data)), we describe in detail our data collection methodology, including the manual assigment of genders to authors to avoid the well-known issues of name-based gender inference.
In the results section (Sec. \@ref(sec:results)), we enumerate our findings, organized by research question, and then summarize an answer to each of the questions.
The discussion (Sec. \@ref(sec:discussion)) that follows then elaborates on these answers in an attempt to synthesize insights.
Finally, we conclude in Sec. \@ref(sec:conclusion) and suggest directions for future research.


# Materials and Methods {#sec:data}

## Limitations {-}

The data reflects a snapshot in time, not annual trend, to avoid complexities of gender differences in drop-out rates.

Network analysis and patterns are outside the scope of this paper; more descriptive than prescriptive, a basis for future work.

Manual data.


TODO: Add nonsys conferences to long table of conferences: name, field and subfield, acceptance rate, npapers.

```{r}
# this is just scratch work and will be added to a fuller table with the other conferences
nonsys_authors %>% 
  group_by(conf) %>% 
  mutate(n_papers = n_distinct(paper_id, conf)) %>% 
  distinct(conf, .keep_all = T) %>% 
  mutate(acceptance_r = round(n_papers/n_submissions, 2)) %>% 
  select(conf, field, subfield, acceptance_r, n_papers) %>% 
  knitr::kable()
```

We have very few NA genders because of our approach.
Lots of other studies omit "ambiguous" names, which tend to skew Asian (and more female [@cite]).
Many gender-based studies that omit NAs justify their decision with substantively unchanged models [for example, @cite].
But when analyzing networks, omitting a large number of connected sub-networks (such as Asians) may distort our results.
So it's important that we only have a few NAs, and omitting them doesn't change much (do sensitivity testing!)

# Results {#sec:results}

General descriptive statistics.

## RQ1

Mean and median publications per gender by field, as well as "one-timers", "low timers" and "high timers".


## RQ2

Mean collaborations per paper, and total no. of collaborators overall.

```{r echo=F}
nonsys_authors %>%
  group_by(conf) %>%
  gender_summary_table()


nonsys_authors %>%
  group_by(field) %>%
  gender_summary_table()

nonsys_authors %>%
  group_by(subfield) %>%
  gender_summary_table()

author_order_data <- nonsys_authors %>%
  add_count(conf, paper_id) %>%
  filter(n > 1) %>%
  select(-n) %>%
  group_by(paper_id) %>%
  mutate(author_order = row_number(paper_id)) %>%
  ungroup()

author_order_data %>%
  filter(author_order == 1) %>%
  group_by(field) %>%
  summarise(.groups = "keep",
    n_female_fa = sum(gender == "F", na.rm = T),
    n_male_fa =  sum(gender == "M", na.rm = T),
    prop_female_fa = n_female_fa / (n_female_fa + n_male_fa)
  ) %>%
  arrange(desc(prop_female_fa)) %>%
  knitr::kable()

author_order_data %>%
  group_by(conf, paper_id) %>%
  filter(author_order == max(author_order)) %>%
  ungroup() %>%
  group_by(field) %>%
  summarise(.groups = "keep",
    n_female_la = sum(gender == "F", na.rm = T),
    n_male_la =  sum(gender == "M", na.rm = T),
    prop_female_la = n_female_la / (n_female_la + n_male_la)
  ) %>%
  arrange(desc(prop_female_la)) %>%
  knitr::kable()
```



```{r echo=F}
# average coauthor team size by gender
nonsys_authors %>%
  add_count(conf, paper_id) %>%
  mutate(n_coauthors = n - 1) %>%
  select(-n) %>%
  select(name, paper_id, n_coauthors) %>% 
  left_join(all_genders, by = 'name') %>% 
  filter(!is.na(gender)) %>% 
  group_by(gender) %>% 
  summarise(.groups = "keep", mean_number_of_coauthors = mean(n_coauthors)) %>% 
  knitr::kable()
```


```{r echo=F}
# percent sole authors by gender
total_male_authors <- nonsys_authors %>% 
  count(gender) %>% 
  filter(gender == "M") %>% 
  pull(n)

total_female_authors <- nonsys_authors %>% 
  count(gender) %>% 
  filter(gender == "F") %>% 
  pull(n)

# solo authorship
nonsys_authors %>% 
  add_count(conf, paper_id) %>% 
  filter(n == 1) %>% 
  filter(!is.na(gender)) %>% 
  count(gender) %>% 
  mutate(
    percent_solo = case_when(
      gender == "M" ~ round((n/total_male_authors), 4) * 100,
      gender == "F" ~ round((n/total_female_authors), 4) * 100
    )
  ) %>% 
  select(-n) %>% 
  knitr::kable()

# dual authorship
nonsys_authors %>% 
  add_count(conf, paper_id) %>% 
  filter(n == 2) %>% 
  filter(!is.na(gender)) %>% 
  count(gender) %>% 
  mutate(
    percent_dual = case_when(
      gender == "M" ~ round((n/total_male_authors), 4) * 100,
      gender == "F" ~ round((n/total_female_authors), 4) * 100
    )
  ) %>% 
  select(-n) %>% 
  knitr::kable()
```


```{r echo=F}
author_collaboration_counts <- collaboration_pairs %>%
  left_join(all_genders, by = c("name2" = "name")) %>% 
  rename(genderp2 = gender) %>% 
  select(name1, name2, genderp2, -paper_id) %>% 
  group_by(name1) %>% 
  summarise(.groups = "keep",
    n_female_collaborators = sum(genderp2 == "F"),
    n_male_collaborators = sum(genderp2 == "M")
    ) %>% 
  mutate(n_total = n_female_collaborators + n_male_collaborators) %>% 
  left_join(all_genders, by = c("name1" = "name")) %>% 
  select(name1, gender, n_female_collaborators, n_male_collaborators, n_total) %>% 
  rename(genderp1 = gender) %>% 
  filter(!is.na(genderp1)) 


# average number of collaborators by gender
author_collaboration_counts %>% 
  group_by(genderp1) %>% 
  summarise(.groups = "keep", avg_n_collaborators = round(mean(n_total, na.rm = T), 2)) %>% 
  knitr::kable()

# average number of male and female collaborators also broken down by gender
author_collaboration_counts %>% 
  group_by(genderp1) %>% 
  summarise(.groups = "keep",
    avg_n_female_collaborators = round(mean(n_female_collaborators, na.rm = T), 2),
    avg_n_male_collaborators = round(mean(n_male_collaborators, na.rm = T), 2)
    ) %>% 
  knitr::kable()
```

## RQ3

## RQ4

## RQ5

## RQ6

## RQ7


# Discussion {#sec:discussion}


# Conclusions {#sec:conclusion}

Future work: network analyses, such as degree centraility; evolution of patterns over time.